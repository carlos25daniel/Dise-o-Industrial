<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malla Interactiva - Karla & Carlos üíú</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #FFF0F5, #FFFACD);
      margin: 0; padding: 2rem;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #800080;
      margin-bottom: 2rem;
      font-weight: 700;
      user-select: none;
      font-size: 2.8rem;
      letter-spacing: 2px;
    }
    #contenedor {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 28px;
      width: 100%;
      max-width: 1200px;
      margin-bottom: 3rem;
    }
    .anio-title {
      grid-column: 1 / -1;
      font-size: 2rem;
      color: #4B0082;
      margin-bottom: 1rem;
      border-left: 6px solid #800080;
      padding-left: 1rem;
      font-weight: 700;
      user-select: none;
      margin-top: 3rem;
    }
    .materia {
      background-color: #FFFF99; /* Canario */
      border: 2px solid #808000; /* Verde Olivo */
      border-radius: 18px;
      cursor: pointer;
      height: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 1.3rem;
      font-weight: 600;
      color: #333;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
      position: relative;
      user-select: none;
      padding: 1rem;
      line-height: 1.2;
    }
    .materia:hover:not(.bloqueada) {
      transform: scale(1.1);
      box-shadow: 0 0 20px 5px #800080aa;
      background-color: #FFF8B5;
    }
    .materia.bloqueada {
      background-color: #E0B0FF; /* Malva */
      border-color: #D3C0E8;
      color: #999;
      cursor: default;
      box-shadow: none;
      transform: none !important;
    }
    .materia.aprobada {
      background-color: #F9A602; /* Narciso */
      border-color: #800080; /* P√∫rpura */
      color: #3a1a00;
      box-shadow: 0 0 18px 5px #F9A602cc;
      font-weight: 700;
    }
    .gatito {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 2rem;
      pointer-events: none;
      user-select: none;
      font-weight: 900;
      color: #800080;
      text-shadow:
        -1px -1px 0 #fff,
         1px -1px 0 #fff,
        -1px  1px 0 #fff,
         1px  1px 0 #fff;
    }
    .mensaje {
      font-size: 1.5rem;
      font-weight: 700;
      color: #800080;
      min-height: 60px;
      max-width: 700px;
      text-align: center;
      user-select: none;
      padding: 0 1rem;
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Karla & Carlos üíú</h1>
  <div id="contenedor"></div>
  <div class="mensaje" id="mensaje"></div>

  <script>
    const materias = [
      { nombre: "Nivelaci√≥n", requisitos: [], anio: "Nivelaci√≥n" },
      { nombre: "Proyectual 1", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },
      { nombre: "Proyectual 2", requisitos: ["Proyectual 1"], anio: "1er Semestre" },
      { nombre: "Dibujo", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },
      { nombre: "Sociedad Y Estado", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },
      { nombre: "Pensamiento Cientifico", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },
      { nombre: "Matem√°tica", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },
      { nombre: "Semiolog√≠a", requisitos: ["Nivelaci√≥n"], anio: "1er Semestre" },

      { nombre: "TDI1", requisitos: ["Proyectual 2", "Dibujo", "Sociedad Y Estado", "Pensamiento Cientifico", "Matem√°tica", "Semiolog√≠a"], anio: "2do Semestre" },
      { nombre: "M1", requisitos: ["TDI1"], anio: "2do Semestre" },
      { nombre: "AP", requisitos: ["TDI1"], anio: "2do Semestre" },
      { nombre: "T1", requisitos: ["TDI1"], anio: "2do Semestre" },
      { nombre: "MAT1", requisitos: ["TDI1"], anio: "2do Semestre" },
      { nombre: "F1", requisitos: ["TDI1"], anio: "2do Semestre" },

      { nombre: "TDI2", requisitos: ["TDI1", "AP", "T1"], anio: "3er Semestre" },
      { nombre: "M2", requisitos: ["TDI1", "M1"], anio: "3er Semestre" },
      { nombre: "T2", requisitos: ["T1", "F1"], anio: "3er Semestre" },
      { nombre: "Ergo", requisitos: ["AP", "TDI1", "F1"], anio: "3er Semestre" },
      { nombre: "HD1", requisitos: ["TDI1"], anio: "3er Semestre" },

      { nombre: "TDI3", requisitos: ["TDI2", "M1", "T2", "Ergo", "MAT1", "F1"], anio: "4to Semestre" },
      { nombre: "M3", requisitos: ["TDI2", "M2", "T1", "MAT1", "F1"], anio: "4to Semestre" },
      { nombre: "T3", requisitos: ["TDI1", "M1", "MAT1", "T1", "F1", "AP", "T2"], anio: "4to Semestre" },
      { nombre: "F2", requisitos: ["TDI1", "M1", "MAT1", "T1", "F1", "AP"], anio: "4to Semestre" },
      { nombre: "HDI2", requisitos: ["TDI1", "M1", "T1", "AP", "HD1", "MAT1", "F1"], anio: "4to Semestre" },

      { nombre: "TDI4", requisitos: ["TDI3", "M2", "T3", "F2", "Ergo", "HD1", "T2"], anio: "5to Semestre" },
      { nombre: "T4", requisitos: ["M2", "TDI2", "T2", "Ergo", "T3", "F2", "HD1"], anio: "5to Semestre" },
      { nombre: "SAD", requisitos: ["TDI2", "T2", "M2", "Ergo", "HD1", "HDI2"], anio: "5to Semestre" },
      { nombre: "GI", requisitos: ["TDI2", "T2", "M2", "Ergo", "HD1", "HDI2"], anio: "5to Semestre" },

      { nombre: "PF", requisitos: ["TDI4", "T3", "F2", "HDI2", "M3", "T4"], anio: "6to Semestre" },
      { nombre: "MID", requisitos: ["M2", "TDI2", "T2", "Ergo", "T3", "F2", "HD1"], anio: "6to Semestre" },
      { nombre: "GP", requisitos: ["M2", "TDI2", "T2", "Ergo", "T3", "F2", "HD1"], anio: "6to Semestre" },
      { nombre: "PPA", requisitos: ["TDI3", "T2", "M2", "Ergo", "HD1", "F2", "HDI2"], anio: "6to Semestre" },
      { nombre: "LG", requisitos: ["TDI3", "T2", "M3", "Ergo", "HD1", "F2", "T3", "HDI2"], anio: "6to Semestre" },

      { nombre: "Dise√±o de Interfases", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Mercadotecnia", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Econom√≠a del Dise√±o", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Innovaci√≥n", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Sustentabilidad", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "UX", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Optativa 1", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
      { nombre: "Optativa 2", requisitos: ["TDI3", "T2", "M2", "Ergo", "F2", "HDI2"], anio: "Electivas" },
    ];

    const contenedor = document.getElementById("contenedor");
    const mensaje = document.getElementById("mensaje");
    let aprobadas = JSON.parse(localStorage.getItem("materiasAprobadas") || "[]");

    const frasesAprobadas = [
      "üê± ¬°Lo hiciste bien, mi amor Carlos! üòΩ",
      "üòª Carlos, eres un campe√≥n. ¬°Sigue as√≠!",
      "üéâ ¬°Felicidades, Carlos! ¬°Otra materia conquistada!",
      "üåü ¬°Eres el mejor, Carlos! ¬°Qu√© orgullo!",
      "üíú ¬°Carlos, mi amor, t√∫ puedes con todo! üòò",
      "üòΩ Brillaste, amorcito, eres un crack.",
      "üëè ¬°Carlos, cada aprobado me enamora m√°s!",
      "‚ú® ¬°Tu esfuerzo vale oro, Carlos!",
      "üåà ¬°Sigue as√≠, que llegar√°s lejos, mi rey!",
      "üíñ ¬°Orgullo total, mi amor Carlos!",
    ];

    const frasesDesaprobadas = [
      "üòø No hay coito, Carlos‚Ä¶ int√©ntalo de nuevo :c",
      "üíî Ups, esta no sali√≥ bien. ¬°Vamos que t√∫ puedes!",
      "üòû Triste, Carlos, pero no te rindas, amor.",
      "ü•∫ No te preocupes, Carlos, la pr√≥xima ser√° mejor.",
      "üôÄ Carlos, no te desanimes, ¬°te apoyo siempre! üíú",
      "üò¢ Amor, a√∫n no es momento, pero conf√≠o en ti.",
      "üòì No te rindas, que t√∫ puedes lograrlo.",
      "üòî Carlos, a veces hay que intentar m√°s, pero aqu√≠ estoy.",
      "üò© Mi amor, ¬°√°nimo! El esfuerzo valdr√° la pena.",
      "üòü Carlos, la pr√≥xima va con m√°s fuerza, ¬°te quiero!",
      "üíñ ¬°Recuerda, siempre estoy contigo, Carlos!",
      "üåßÔ∏è Los d√≠as grises tambi√©n pasan, mi rey.",
      "üå± Cada intento te hace m√°s fuerte, amor.",
    ];

    function puedeMostrarse(m) {
      return m.requisitos.every(req => aprobadas.includes(req));
    }

    function fraseAleatoria(array) {
      return array[Math.floor(Math.random() * array.length)];
    }

    function renderMaterias() {
      contenedor.innerHTML = "";
      let currentAnio = "";
      materias.forEach(m => {
        const visible = puedeMostrarse(m) || aprobadas.includes(m.nombre);
        const bloqueada = !visible && !aprobadas.includes(m.nombre);
        if (m.anio !== currentAnio) {
          currentAnio = m.anio;
          const titulo = document.createElement("div");
          titulo.className = "anio-title";
          titulo.textContent = currentAnio;
          contenedor.appendChild(titulo);
        }

        const div = document.createElement("div");
        div.className = `materia ${aprobadas.includes(m.nombre) ? "aprobada" : ""} ${bloqueada ? "bloqueada" : ""}`;
        div.textContent = m.nombre;
        if (!bloqueada) {
          div.style.cursor = "pointer";
          div.onclick = () => toggleAprobado(m.nombre);
        }

        if (aprobadas.includes(m.nombre)) {
          const gatito = document.createElement("span");
          gatito.className = "gatito";
          gatito.title = "¬°Lo hiciste bien, mi amor Carlos! üòΩ";
          gatito.textContent = "üê±K";
          div.appendChild(gatito);
        }

        contenedor.appendChild(div);
      });
    }

    function toggleAprobado(nombre) {
      const index = aprobadas.indexOf(nombre);
      if (index === -1) {
        aprobadas.push(nombre);
        mensaje.textContent = fraseAleatoria(frasesAprobadas);
      } else {
        aprobadas.splice(index, 1);
        mensaje.textContent = fraseAleatoria(frasesDesaprobadas);
      }
      localStorage.setItem("materiasAprobadas", JSON.stringify(aprobadas));
      renderMaterias();
    }

    renderMaterias();
  </script>
</body>
</html>
